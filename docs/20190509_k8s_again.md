
# Install and Configure Kubernetes

#### Create ```ubuntu``` user
```
for i in {1..4}; do ssh root@vantiq2-test0$i -i ~/.ssh/Vantiq-key.pem "adduser ubuntu; usermod -aG sudo ubuntu"; done
```

#### Check ```lsblk``` on each node
```
ubuntu@jump-server:~$ for i in {1..4}; do ssh root@vantiq2-test0$i -i ~/.ssh/Vantiq-key.pem "hostname; lsblk"; done
vantiq2-test01
NAME   MAJ:MIN RM SIZE RO TYPE MOUNTPOINT
vda    252:0    0  40G  0 disk
└─vda1 252:1    0  40G  0 part /
vantiq2-test02
NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
vda    252:0    0   40G  0 disk
└─vda1 252:1    0   40G  0 part /
vdb    252:16   0  530G  0 disk
vantiq02-test0303
NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
vda    252:0    0   40G  0 disk
└─vda1 252:1    0   40G  0 part /
vdb    252:16   0  530G  0 disk
vantiq02-test04
NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
vda    252:0    0   40G  0 disk
└─vda1 252:1    0   40G  0 part /
vdb    252:16   0   20G  0 disk
vdc    252:32   0  160G  0 disk
vdd    252:48   0   20G  0 disk
vde    252:64   0   20G  0 disk
```

#### Setup Hostname on all nodes and ```/etc/hosts``` on master

```
for i in {1..4}; do ssh root@vantiq2-test0$i -i ~/.ssh/Vantiq-key.pem "hostnamectl set-hostname vantiq2-test0$i"; done
```

#### Setup DNS for Ubuntu 18.04
- ```systemctl restart systemd-resolved.service```
Each time this command is executed, the following configuration file might be changed according to actual network settings
- Update ```/run/systemd/resolve/resolv.conf``` with correct DNS setting
- ```ln -s /run/systemd/resolve/resolv.conf /etc/resolv.conf```
